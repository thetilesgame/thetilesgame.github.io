<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Page Not Found</title>
        <script type="text/javascript" src="redirect.js"></script>
    </head>
<body>
    <script>
        // Get the path from the URL
        var path = window.location.pathname;
        
        // Check if the path starts with '/gift/'
        if (path.startsWith('/gift/')) {
            // Extract the code from the path
            var code = path.split('/gift/')[1];

            // Here we initiate the redirect process
            AppRedirect.redirect({
                iosApp: 'https://thetilesgame.com/?message=' + code,
                iosAppStore: 'https://apps.apple.com/ua/app/tiles-puzzle-with-faces/id6479700321?mt=8&message=' + code,
                // For this, your app needs to have a category filter: android.intent.category.BROWSABLE
                android: {
                    'host': '/?message=' + encodeURIComponent(code), // Host/path/querystring part in a custom scheme URL
                    'scheme': 'https://thetilesgame.com', // Scheme part in a custom scheme URL
                    'package': 'com.the.tiles.game', // Package name in Play store
                    'fallback': 'https://play.google.com/store/apps/details?id=com.the.tiles.game&hl=en&message=' + code
                }
            });
        } else {
            // If not the desired path, display a 404 message
            document.body.innerHTML = '<h1>404 - Page Not Found</h1>';
        }
    </script>
</body>
</html>
